require(["gitbook","jQuery"],function(i,s){var o,a,l=[];function c(e){var n,t;l=e||l,o=s(".versions-select select").val()||o,s(".versions-select").remove(),0!==l.length&&(n=s("<li>",{class:"versions-select",html:"<div><select></select></div>"}),t=n.find("select"),s.each(l,function(e,n){s("<option>",{selected:-1!==window.location.href.indexOf(n.value),value:n.value,text:n.text}).appendTo(t)}),t.change(function(){var e=s.grep(l,function(e){return e.value===t.val()})[0],n=window.location.href.replace(i.state.bookRoot,"");window.location.href=e.includeFilepath?e.value+n:e.value}),n.prependTo(".book-summary ul.summary"))}i.events.bind("start",function(e,n){var t,o;(a=n.versions||{}).options&&c(a.options),a.gitbookConfigURL?(o=a.gitbookConfigURL,s.getJSON(o,function(e){c(e.pluginsConfig.versions.options)})):(t=a.type||"branches",s.getJSON(i.state.bookRoot+"gitbook/api/versions/"+t,function(e){c(s.map(e,function(e){return{text:e.name,value:e.urls.website,selected:e.current,includeFilepath:!1!==a.includeFilepath&&"languages"!==t}}))}))}),i.events.bind("page.change",function(){c()})});